!function(r){var e,t,n;e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/[&<>"'\/]/g,n=function(r){return e[r]},function(){var r={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},e=/[&><\u2028\u2029]/g,t=function(e){return r[e]}}();r.$a=function(r){var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};var t={},n=function(a){if(a in t)return t[a].$a;if(!r[a])throw new ReferenceError("module "+a+" is not found");var o=t[a]={$a:{}};return r[a].call(e,o,o.$a,n,e),o.$a};return n(0)}([function(r,e,t,n){var a=window;var o=t(1),u=o._$a,_=o._$b;var i=a.parent,s="https://music.yandex.ru",c=function(r,e){i.postMessage(JSON.stringify({event:r,data:e,xstorage:!0}),s)},l=c.call,f=l.bind({}.hasOwnProperty),d=l.bind(a.addEventListener),v=function(r){this._$c=r};v.prototype={_$d:function(r,e){f(_,r)&&this._$c.setItem(r,e)},_$e:function(r){f(_,r)&&this._$c.removeItem(r)},_$f:function(){for(var r,e={},t=Object.keys(_),n=0,a=t.length;n<a;n++)null!=(r=this._$c.getItem(t[n]))&&(e[t[n]]=r);return e}};var y=function(r){try{if(r.setItem("__storage_test__","__storage_test__"),"__storage_test__"!==r.getItem("__storage_test__"))throw Error("Storage unavailable");return r.removeItem("__storage_test__"),new v(r)}catch(r){return null}},E={local:y(a.localStorage),session:y(a.sessionStorage)};if(E.local||E.session){var P={};P[u._$g]=function(r){c(u._$h,{requestId:r,local:E.local&&E.local._$f(),session:E.session&&E.session._$f()})},P[u._$i]=function(r,e,t,n){null==n?E[e]._$e(t):E[e]._$d(t,n),c(u._$j,{requestId:r,storage:e,key:t,value:n})},d(a,"storage",function(r){if(!r.key||f(_,r.key)){var e="unknown";for(var t in E)if(f(E,t)&&E[t]&&E[t]._$c===r.storageArea){e=t;break}r.error?c(u._$k,{event:r.action,error:r.error.message}):r.key?c(u._$j,{storage:e,key:r.key,value:r.newValue}):c(u._$l,{storage:e})}}),d(a,"message",function(r){if((r.origin||r.originalEvent.origin)===s){var e;try{e=JSON.parse(r.data)}catch(t){e={error:t}}var t=e.error,n=e.event,a=e.data,o=e.requestId;try{if(t)throw Error(t);if(null==o)throw Error("No request id");if(!f(E,a.storage)||!E[a.storage])throw Error("Storage unavailable");if(!f(P,n)||"function"!=typeof P[n])throw Error("Action is not defined");P[n](o,a.storage,a.key,a.value)}catch(t){c(u._$k,{requestId:o,error:t.message})}}}),P.dump()}else c("error",{error:"No available storages"})},function(r,e,t,n){var a=t(2)(["Ya_Music_Player_Type","Ya_Music_Player_Format","Ya_Music_Player_HQ","Ya_Music_Player_Volume","Ya_Music_Player_Speed","Ya_Music_Player_Volume_Gamma","Ya_Music_Player_Equalizer","Ya_Music_Player_CD","Ya_Music_Player_ID","Ya_Music_Player_FL","Ya_Music_Player_LV","Ya_Music_Player_SessionTime","Ya_Music_Player_SessionLastPlay","Ya_Music_Player_LA"]);e._$a={_$j:"update",_$l:"clear",_$k:"error",_$h:"dump",_$i:"update",_$g:"dump"},e._$b=a},function(r,e,t,n){var a=t(3);r.$a=function(r){return r.forEach(function(r){a[r]=!0}),a}},function(r,e,t,n){r.$a=function(){var r;try{r=Object.create(null)}catch(e){r={}}return r}}])}("undefined"==typeof module?{}:module);